{"ast":null,"code":"import _classCallCheck from\"/home/lsb/wikidatageo/dark-sky-vacations/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/lsb/wikidatageo/dark-sky-vacations/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/lsb/wikidatageo/dark-sky-vacations/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/lsb/wikidatageo/dark-sky-vacations/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./App.css';import DeckGL from'@deck.gl/react';import{TerrainLayer,TileLayer}from'@deck.gl/geo-layers';import{BitmapLayer}from'@deck.gl/layers';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={viz:\"bumpy-terrain\",initialViewState:{longitude:-122.4,latitude:37.7,zoom:5,pitch:30,bearing:0,maxZoom:9}};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;var viz=this.state.viz;console.log({viz:viz});var smog=new TileLayer({data:'./tiles/greys-{z}-{x}-{y}.png',id:'smog',wrapLongitude:true,renderSubLayers:function renderSubLayers(props){return new BitmapLayer(props,{data:null,image:props.data,bounds:[props.tile.bbox.west,props.tile.bbox.south,props.tile.bbox.east,props.tile.bbox.north]});}});var watercolor=new TileLayer({data:'./stamen-tiles/watercolor/watercolor-{z}-{x}-{y}.jpg',id:'watercolor',wrapLongitude:true,maxZoom:8,renderSubLayers:function renderSubLayers(props){return new BitmapLayer(props,{data:null,image:props.data,bounds:[props.tile.bbox.west,props.tile.bbox.south,props.tile.bbox.east,props.tile.bbox.north]});}});var tonerlabel=new TileLayer({data:'./stamen-tiles/toner-labels/toner-labels-{z}-{x}-{y}.png',id:'tonerlabel',wrapLongitude:true,maxZoom:8,renderSubLayers:function renderSubLayers(props){return new BitmapLayer(props,{data:null,image:props.data,bounds:[props.tile.bbox.west,props.tile.bbox.south,props.tile.bbox.east,props.tile.bbox.north]});}});var terrain=new TileLayer({data:'./stamen-tiles/terrain/terrain-{z}-{x}-{y}.png',id:'greenhills',wrapLongitude:true,renderSubLayers:function renderSubLayers(props){return new BitmapLayer(props,{data:null,image:props.data,bounds:[props.tile.bbox.west,props.tile.bbox.south,props.tile.bbox.east,props.tile.bbox.north]});}});var bumpyLight=new TerrainLayer({id:'bumpyLight',elevationDecoder:{rScaler:337,gScaler:0,bScaler:0,offset:0},meshMaxError:1,elevationData:'./tiles/light-{z}-{x}-{y}.png',wrapLongitude:true,texture:'./tiles/water-{z}-{x}-{y}.png',material:{ambient:0.2,diffuse:1,shininess:128,specularColor:[255,192,64]}});var bumpyTerrain=new TerrainLayer({id:'bumpyTerrain',elevationDecoder:{rScaler:337,gScaler:0,bScaler:0,offset:0},meshMaxError:1,elevationData:'./tiles/light-{z}-{x}-{y}.png',wrapLongitude:true,texture:'./stamen-tiles/terrain/terrain-{z}-{x}-{y}.png',material:{ambient:0.2,diffuse:1,shininess:128,specularColor:[255,192,64]}});var layers=viz===\"bumpy-light\"?[bumpyLight]:viz===\"bumpy-terrain\"?[bumpyTerrain]:viz===\"hazy-terrain\"?[terrain,smog]:[watercolor,tonerlabel,smog];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(DeckGL,{initialViewState:this.state.initialViewState,controller:true,layers:layers,id:\"maincanvas\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"tweaks\"},/*#__PURE__*/React.createElement(\"div\",{id:\"colophon\"},\"\\xA9 Lee Butterman 2020. Made in Oakland, California.\"),/*#__PURE__*/React.createElement(\"div\",{id:\"tweaks\"},\"Tweaks:\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"viz\",value:\"bumpy-light\",checked:viz===\"bumpy-light\",onChange:function onChange(e){return _this2.setState({viz:e.target.value});}}),\"Light-pollution as topography, light-pollution + water as texture\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"viz\",value:\"bumpy-terrain\",checked:viz===\"bumpy-terrain\",onChange:function onChange(e){return _this2.setState({viz:e.target.value});}}),\"Light-pollution as topography, terrain map as texture\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"viz\",value:\"hazy-terrain\",checked:viz===\"hazy-terrain\",onChange:function onChange(e){return _this2.setState({viz:e.target.value});}}),\"Light-pollution as haze on terrain\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"viz\",value:\"hazy-watercolor\",checked:viz===\"hazy-watercolor\",onChange:function onChange(e){return _this2.setState({viz:e.target.value});}}),\"Light-pollution as haze on watercolor\"))))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/lsb/wikidatageo/dark-sky-vacations/src/App.js"],"names":["React","DeckGL","TerrainLayer","TileLayer","BitmapLayer","App","props","state","viz","initialViewState","longitude","latitude","zoom","pitch","bearing","maxZoom","console","log","smog","data","id","wrapLongitude","renderSubLayers","image","bounds","tile","bbox","west","south","east","north","watercolor","tonerlabel","terrain","bumpyLight","elevationDecoder","rScaler","gScaler","bScaler","offset","meshMaxError","elevationData","texture","material","ambient","diffuse","shininess","specularColor","bumpyTerrain","layers","e","setState","target","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport DeckGL from '@deck.gl/react';\nimport { TerrainLayer, TileLayer, } from '@deck.gl/geo-layers';\nimport { BitmapLayer,  } from '@deck.gl/layers';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      viz: \"bumpy-terrain\",\n      initialViewState: {longitude: -122.4, latitude: 37.7, zoom: 5, pitch: 30, bearing: 0, maxZoom: 9},\n    }\n  }\n  render() {\n    const {viz} = this.state;\n    console.log({viz});\n    const smog = new TileLayer({\n      data: './tiles/greys-{z}-{x}-{y}.png',\n      id: 'smog',\n      wrapLongitude: true,\n      renderSubLayers: props => (\n        new BitmapLayer((props), {\n          data: null,\n          image: props.data,\n          bounds: [props.tile.bbox.west, props.tile.bbox.south, props.tile.bbox.east, props.tile.bbox.north],\n        })\n      )\n    })\n    const watercolor = new TileLayer({\n      data: './stamen-tiles/watercolor/watercolor-{z}-{x}-{y}.jpg',\n      id: 'watercolor',\n      wrapLongitude: true,\n      maxZoom: 8,\n      renderSubLayers: props => new BitmapLayer((props), {\n        data: null,\n        image: props.data,\n        bounds: [props.tile.bbox.west, props.tile.bbox.south, props.tile.bbox.east, props.tile.bbox.north],\n      })\n    });\n    const tonerlabel = new TileLayer({\n      data: './stamen-tiles/toner-labels/toner-labels-{z}-{x}-{y}.png',\n      id: 'tonerlabel',\n      wrapLongitude: true,\n      maxZoom: 8,\n      renderSubLayers: props => new BitmapLayer((props), {\n        data: null,\n        image: props.data,\n        bounds: [props.tile.bbox.west, props.tile.bbox.south, props.tile.bbox.east, props.tile.bbox.north],\n      })\n    });\n    const terrain = new TileLayer({\n      data: './stamen-tiles/terrain/terrain-{z}-{x}-{y}.png',\n      id: 'greenhills',\n      wrapLongitude: true,\n      renderSubLayers: props => new BitmapLayer((props), {\n        data: null,\n        image: props.data,\n        bounds: [props.tile.bbox.west, props.tile.bbox.south, props.tile.bbox.east, props.tile.bbox.north],\n      })\n    })\n    const bumpyLight = new TerrainLayer({\n      id: 'bumpyLight',\n      elevationDecoder: {\n        rScaler: 337,\n        gScaler: 0,\n        bScaler: 0,\n        offset: 0,\n      },\n      meshMaxError: 1,\n      elevationData: './tiles/light-{z}-{x}-{y}.png',\n      wrapLongitude: true,\n      texture: './tiles/water-{z}-{x}-{y}.png',\n      material: {\n        ambient: 0.2,\n        diffuse: 1,\n        shininess: 128,\n        specularColor: [255, 192, 64]\n      }\n    });\n    const bumpyTerrain = new TerrainLayer({\n      id: 'bumpyTerrain',\n      elevationDecoder: {\n        rScaler: 337,\n        gScaler: 0,\n        bScaler: 0,\n        offset: 0,\n      },\n      meshMaxError: 1,\n      elevationData: './tiles/light-{z}-{x}-{y}.png',\n      wrapLongitude: true,\n      texture: './stamen-tiles/terrain/terrain-{z}-{x}-{y}.png',\n      material: {\n        ambient: 0.2,\n        diffuse: 1,\n        shininess: 128,\n        specularColor: [255, 192, 64],\n      },\n    });\n\n    const layers = viz === \"bumpy-light\" ? [bumpyLight] : (viz === \"bumpy-terrain\" ? [bumpyTerrain] : (viz === \"hazy-terrain\" ? [terrain, smog] : [watercolor, tonerlabel, smog]) );\n    return (\n      <div>\n        <div>\n          <DeckGL initialViewState={this.state.initialViewState} controller={true} layers={layers} id={\"maincanvas\"} />\n        </div>\n        <div className=\"tweaks\">\n          <div id=\"colophon\">Â© Lee Butterman 2020. Made in Oakland, California.</div>\n          <div id=\"tweaks\">\n            Tweaks:<br/>\n            <form>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"bumpy-light\" checked={viz === \"bumpy-light\"} onChange={e => this.setState({viz: e.target.value})} />\n                  Light-pollution as topography, light-pollution + water as texture\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"bumpy-terrain\" checked={viz === \"bumpy-terrain\"} onChange={e => this.setState({viz: e.target.value})} />\n                  Light-pollution as topography, terrain map as texture\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"hazy-terrain\" checked={viz === \"hazy-terrain\"} onChange={e => this.setState({viz: e.target.value})} />\n                  Light-pollution as haze on terrain\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"hazy-watercolor\" checked={viz === \"hazy-watercolor\"} onChange={e => this.setState({viz: e.target.value})} />\n                  Light-pollution as haze on watercolor\n                </label>\n              </div>\n            </form>\n          </div>          \n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}