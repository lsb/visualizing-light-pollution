{"ast":null,"code":"var _jsxFileName = \"/home/lsb/wikidatageo/dark-sky-vacations/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport DeckGL from '@deck.gl/react';\nimport { TerrainLayer, TileLayer } from '@deck.gl/geo-layers';\nimport { BitmapLayer } from '@deck.gl/layers';\nconst bitmapLayerDefaults = {\n  wrapLongitude: true,\n  renderSubLayers: props => new BitmapLayer(props, {\n    data: null,\n    image: props.data,\n    bounds: [props.tile.bbox.west, props.tile.bbox.south, props.tile.bbox.east, props.tile.bbox.north]\n  })\n};\nconst terrainLayerDefaults = {\n  elevationDecoder: {\n    rScaler: 0,\n    gScaler: 0,\n    bScaler: 337,\n    offset: 0\n  },\n  meshMaxError: 1,\n  wrapLongitude: true,\n  workerUrl: \"./terrain-loader.worker.js\",\n  material: {\n    ambient: 0.2,\n    diffuse: 1,\n    shininess: 128,\n    specularColor: [255, 192, 64]\n  }\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viz: \"bumpy-terrain\",\n      initialViewState: {\n        longitude: -122.4,\n        latitude: 37.7,\n        zoom: 5,\n        pitch: 30,\n        bearing: 0,\n        maxZoom: 10\n      }\n    };\n  }\n\n  render() {\n    const {\n      viz\n    } = this.state;\n    const smog = new TileLayer({ ...bitmapLayerDefaults,\n      data: './tiles/greys-{z}-{x}-{y}.png',\n      maxZoom: 8,\n      id: 'smog'\n    });\n    const watercolor = new TileLayer({ ...bitmapLayerDefaults,\n      data: './stamen-tiles/watercolor/{z}/{x}/{y}.jpg',\n      id: 'watercolor'\n    });\n    const tonerlabel = new TileLayer({ ...bitmapLayerDefaults,\n      data: './stamen-tiles/toner-labels/{z}/{x}/{y}.png',\n      id: 'tonerlabel'\n    });\n    const terrain = new TileLayer({ ...bitmapLayerDefaults,\n      data: './stamen-tiles/terrain/{z}/{x}/{y}.png',\n      id: 'greenhills'\n    });\n    const bumpyLight = new TerrainLayer({ ...terrainLayerDefaults,\n      id: 'bumpyLight',\n      elevationData: './tiles/globe-{z}-{x}-{y}.png',\n      texture: './tiles/globe-{z}-{x}-{y}.png',\n      workerUrl: \"./terrain-loader.worker.js\"\n    });\n    const bumpyTerrain = new TerrainLayer({ ...terrainLayerDefaults,\n      id: 'bumpyTerrain',\n      elevationData: './tiles/globe-{z}-{x}-{y}.png',\n      texture: './stamen-tiles/terrain/{z}/{x}/{y}.png'\n    });\n    const bumpyWatercolor = new TerrainLayer({ ...terrainLayerDefaults,\n      id: 'bumpyWatercolor',\n      elevationData: './tiles/globe-{z}-{x}-{y}.png',\n      texture: './stamen-tiles/watercolor/{z}/{x}/{y}.jpg'\n    });\n    const layerMapping = {\n      \"bumpy-light\": [bumpyLight],\n      \"bumpy-terrain\": [bumpyTerrain],\n      \"bumpy-watercolor\": [bumpyWatercolor],\n      \"hazy-terrain\": [terrain, smog],\n      \"hazy-watercolor\": [watercolor, tonerlabel, smog],\n      \"hazy-gouache\": [watercolor, smog]\n    };\n    const layers = layerMapping[viz];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DeckGL, {\n      initialViewState: this.state.initialViewState,\n      controller: true,\n      layers: layers,\n      id: \"maincanvas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tweaks\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"colophon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, \"\\xA9 Lee Butterman 2020. Made in Oakland, California.\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 80\n      }\n    }), \"Map tiles by Stamen Design under \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://creativecommons.org/licenses/by/3.0/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 118\n      }\n    }, \"CC BY 3.0\"), \". Map data by OpenStreetMap under \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://creativecommons.org/licenses/by-sa/3.0/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 220\n      }\n    }, \"CC BY SA 3.0\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tweaks\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, \"View light pollution as:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"viz\",\n      value: \"bumpy-light\",\n      checked: viz === \"bumpy-light\",\n      onChange: e => this.setState({\n        viz: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 19\n      }\n    }), \"topography, on a white/blue world\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"viz\",\n      value: \"bumpy-terrain\",\n      checked: viz === \"bumpy-terrain\",\n      onChange: e => this.setState({\n        viz: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }), \"topography, on a terrain map world\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"viz\",\n      value: \"bumpy-watercolor\",\n      checked: viz === \"bumpy-watercolor\",\n      onChange: e => this.setState({\n        viz: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 19\n      }\n    }), \"topography, on a watercolor world\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"viz\",\n      value: \"hazy-terrain\",\n      checked: viz === \"hazy-terrain\",\n      onChange: e => this.setState({\n        viz: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 19\n      }\n    }), \"haze, on a terrain map world\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"viz\",\n      value: \"hazy-watercolor\",\n      checked: viz === \"hazy-watercolor\",\n      onChange: e => this.setState({\n        viz: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }), \"haze, on a watercolor world with labels\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"viz\",\n      value: \"hazy-gouache\",\n      checked: viz === \"hazy-gouache\",\n      onChange: e => this.setState({\n        viz: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }), \"haze, on a watercolor world\"))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/lsb/wikidatageo/dark-sky-vacations/src/App.js"],"names":["React","DeckGL","TerrainLayer","TileLayer","BitmapLayer","bitmapLayerDefaults","wrapLongitude","renderSubLayers","props","data","image","bounds","tile","bbox","west","south","east","north","terrainLayerDefaults","elevationDecoder","rScaler","gScaler","bScaler","offset","meshMaxError","workerUrl","material","ambient","diffuse","shininess","specularColor","App","Component","constructor","state","viz","initialViewState","longitude","latitude","zoom","pitch","bearing","maxZoom","render","smog","id","watercolor","tonerlabel","terrain","bumpyLight","elevationData","texture","bumpyTerrain","bumpyWatercolor","layerMapping","layers","e","setState","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport DeckGL from '@deck.gl/react';\nimport { TerrainLayer, TileLayer, } from '@deck.gl/geo-layers';\nimport { BitmapLayer,  } from '@deck.gl/layers';\n\nconst bitmapLayerDefaults = ({\n  wrapLongitude: true,\n  renderSubLayers: props => (\n    new BitmapLayer((props), {\n      data: null,\n      image: props.data,\n      bounds: [props.tile.bbox.west, props.tile.bbox.south, props.tile.bbox.east, props.tile.bbox.north],\n    })\n  ),\n})\nconst terrainLayerDefaults = ({\n  elevationDecoder: {\n    rScaler: 0,\n    gScaler: 0,\n    bScaler: 337,\n    offset: 0,\n  },\n  meshMaxError: 1,\n  wrapLongitude: true,\n  workerUrl: \"./terrain-loader.worker.js\",\n  material: {\n    ambient: 0.2,\n    diffuse: 1,\n    shininess: 128,\n    specularColor: [255, 192, 64]\n  },\n});\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      viz: \"bumpy-terrain\",\n      initialViewState: {longitude: -122.4, latitude: 37.7, zoom: 5, pitch: 30, bearing: 0, maxZoom: 10},\n    }\n  }\n  render() {\n    const {viz} = this.state;\n    const smog = new TileLayer({\n      ...bitmapLayerDefaults,\n      data: './tiles/greys-{z}-{x}-{y}.png',\n      maxZoom: 8,\n      id: 'smog',\n    })\n    const watercolor = new TileLayer({\n      ...bitmapLayerDefaults,\n      data: './stamen-tiles/watercolor/{z}/{x}/{y}.jpg',\n      id: 'watercolor',\n    });\n    const tonerlabel = new TileLayer({\n      ...bitmapLayerDefaults,\n      data: './stamen-tiles/toner-labels/{z}/{x}/{y}.png',\n      id: 'tonerlabel',\n    });\n    const terrain = new TileLayer({\n      ...bitmapLayerDefaults,\n      data: './stamen-tiles/terrain/{z}/{x}/{y}.png',\n      id: 'greenhills',\n    })\n    const bumpyLight = new TerrainLayer({\n      ...terrainLayerDefaults,\n      id: 'bumpyLight',\n      elevationData: './tiles/globe-{z}-{x}-{y}.png',\n      texture: './tiles/globe-{z}-{x}-{y}.png',\n      workerUrl: \"./terrain-loader.worker.js\",\n    });\n    const bumpyTerrain = new TerrainLayer({\n      ...terrainLayerDefaults,\n      id: 'bumpyTerrain',\n      elevationData: './tiles/globe-{z}-{x}-{y}.png',\n      texture: './stamen-tiles/terrain/{z}/{x}/{y}.png',\n    });\n    const bumpyWatercolor = new TerrainLayer({\n      ...terrainLayerDefaults,\n      id: 'bumpyWatercolor',\n      elevationData: './tiles/globe-{z}-{x}-{y}.png',\n      texture: './stamen-tiles/watercolor/{z}/{x}/{y}.jpg',\n    })\n    const layerMapping = ({\n      \"bumpy-light\": [bumpyLight],\n      \"bumpy-terrain\": [bumpyTerrain],\n      \"bumpy-watercolor\": [bumpyWatercolor],\n      \"hazy-terrain\": [terrain, smog],\n      \"hazy-watercolor\": [watercolor, tonerlabel, smog],\n      \"hazy-gouache\": [watercolor, smog],\n    })\n    const layers = layerMapping[viz];\n    return (\n      <div>\n        <div>\n          <DeckGL initialViewState={this.state.initialViewState} controller={true} layers={layers} id={\"maincanvas\"} />\n        </div>\n        <div className=\"tweaks\">\n          <div id=\"colophon\">© Lee Butterman 2020. Made in Oakland, California.<br/>Map tiles by Stamen Design under <a href=\"https://creativecommons.org/licenses/by/3.0/\">CC BY 3.0</a>. Map data by OpenStreetMap under <a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC BY SA 3.0</a></div>\n          <div id=\"tweaks\">\n            View light pollution as:<br/>\n            <form>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"bumpy-light\" checked={viz === \"bumpy-light\"} onChange={e => this.setState({viz: e.target.value})} />\n                  topography, on a white/blue world\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"bumpy-terrain\" checked={viz === \"bumpy-terrain\"} onChange={e => this.setState({viz: e.target.value})} />\n                  topography, on a terrain map world\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"bumpy-watercolor\" checked={viz === \"bumpy-watercolor\"} onChange={e => this.setState({viz: e.target.value})} />\n                  topography, on a watercolor world\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"hazy-terrain\" checked={viz === \"hazy-terrain\"} onChange={e => this.setState({viz: e.target.value})} />\n                  haze, on a terrain map world\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"hazy-watercolor\" checked={viz === \"hazy-watercolor\"} onChange={e => this.setState({viz: e.target.value})} />\n                  haze, on a watercolor world with labels\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"hazy-gouache\" checked={viz === \"hazy-gouache\"} onChange={e => this.setState({viz: e.target.value})} />\n                  haze, on a watercolor world\n                </label>\n              </div>\n            </form>\n          </div>          \n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}