{"ast":null,"code":"import _objectSpread from\"/home/lsb/wikidatageo/dark-sky-vacations/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/lsb/wikidatageo/dark-sky-vacations/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/lsb/wikidatageo/dark-sky-vacations/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/lsb/wikidatageo/dark-sky-vacations/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/lsb/wikidatageo/dark-sky-vacations/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./App.css';import DeckGL from'@deck.gl/react';import{TerrainLayer,TileLayer}from'@deck.gl/geo-layers';import{BitmapLayer}from'@deck.gl/layers';var bitmapLayerDefaults={wrapLongitude:true,renderSubLayers:function renderSubLayers(props){return new BitmapLayer(props,{data:null,image:props.data,bounds:[props.tile.bbox.west,props.tile.bbox.south,props.tile.bbox.east,props.tile.bbox.north]});}};var elevationDecoder={rScaler:0,gScaler:0,bScaler:337,offset:0};var terrainLayerDefaults={elevationDecoder:elevationDecoder,meshMaxError:1,wrapLongitude:true,workerUrl:\"./terrain-loader.worker.js\",material:{ambient:0.2,diffuse:1,shininess:128,specularColor:[255,192,64]}};var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={viz:\"bumpy-terrain\",initialViewState:{longitude:-122.4,latitude:37.7,zoom:5,pitch:30,bearing:0,maxZoom:9}};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;var viz=this.state.viz;var smog=new TileLayer(_objectSpread({},bitmapLayerDefaults,{data:'./tiles/greys-{z}-{x}-{y}.png',maxZoom:8,id:'smog'}));var watercolor=new TileLayer(_objectSpread({},bitmapLayerDefaults,{data:'./stamen-tiles/watercolor/watercolor-{z}-{x}-{y}.jpg',id:'watercolor',maxZoom:8}));var tonerlabel=new TileLayer(_objectSpread({},bitmapLayerDefaults,{data:'./stamen-tiles/toner-labels/toner-labels-{z}-{x}-{y}.png',id:'tonerlabel',maxZoom:8}));var terrain=new TileLayer(_objectSpread({},bitmapLayerDefaults,{data:'./stamen-tiles/terrain/terrain-{z}-{x}-{y}.png',id:'greenhills'}));var bumpyLight=new TerrainLayer(_objectSpread({},terrainLayerDefaults,{id:'bumpyLight',elevationData:'./tiles/globe-{z}-{x}-{y}.png',texture:'./tiles/globe-{z}-{x}-{y}.png',workerUrl:\"./terrain-loader.worker.js\"}));var bumpyTerrain=new TerrainLayer(_objectSpread({},terrainLayerDefaults,{id:'bumpyTerrain',elevationData:'./tiles/globe-{z}-{x}-{y}.png',texture:'./stamen-tiles/terrain/terrain-{z}-{x}-{y}.png'}));var layers=viz===\"bumpy-light\"?[bumpyLight]:viz===\"bumpy-terrain\"?[bumpyTerrain]:viz===\"hazy-terrain\"?[terrain,smog]:[watercolor,tonerlabel,smog];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(DeckGL,{initialViewState:this.state.initialViewState,controller:true,layers:layers,id:\"maincanvas\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"tweaks\"},/*#__PURE__*/React.createElement(\"div\",{id:\"colophon\"},\"\\xA9 Lee Butterman 2020. Made in Oakland, California.\"),/*#__PURE__*/React.createElement(\"div\",{id:\"tweaks\"},\"Tweaks:\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"viz\",value:\"bumpy-light\",checked:viz===\"bumpy-light\",onChange:function onChange(e){return _this2.setState({viz:e.target.value});}}),\"Light-pollution as topography, light-pollution + water as texture\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"viz\",value:\"bumpy-terrain\",checked:viz===\"bumpy-terrain\",onChange:function onChange(e){return _this2.setState({viz:e.target.value});}}),\"Light-pollution as topography, terrain map as texture\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"viz\",value:\"hazy-terrain\",checked:viz===\"hazy-terrain\",onChange:function onChange(e){return _this2.setState({viz:e.target.value});}}),\"Light-pollution as haze on terrain\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"viz\",value:\"hazy-watercolor\",checked:viz===\"hazy-watercolor\",onChange:function onChange(e){return _this2.setState({viz:e.target.value});}}),\"Light-pollution as haze on watercolor\"))))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/lsb/wikidatageo/dark-sky-vacations/src/App.js"],"names":["React","DeckGL","TerrainLayer","TileLayer","BitmapLayer","bitmapLayerDefaults","wrapLongitude","renderSubLayers","props","data","image","bounds","tile","bbox","west","south","east","north","elevationDecoder","rScaler","gScaler","bScaler","offset","terrainLayerDefaults","meshMaxError","workerUrl","material","ambient","diffuse","shininess","specularColor","App","state","viz","initialViewState","longitude","latitude","zoom","pitch","bearing","maxZoom","smog","id","watercolor","tonerlabel","terrain","bumpyLight","elevationData","texture","bumpyTerrain","layers","e","setState","target","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport DeckGL from '@deck.gl/react';\nimport { TerrainLayer, TileLayer, } from '@deck.gl/geo-layers';\nimport { BitmapLayer,  } from '@deck.gl/layers';\n\nconst bitmapLayerDefaults = ({\n  wrapLongitude: true,\n  renderSubLayers: props => (\n    new BitmapLayer((props), {\n      data: null,\n      image: props.data,\n      bounds: [props.tile.bbox.west, props.tile.bbox.south, props.tile.bbox.east, props.tile.bbox.north],\n    })\n  ),\n})\nconst elevationDecoder = ({\n  rScaler: 0,\n  gScaler: 0,\n  bScaler: 337,\n  offset: 0,\n});\nconst terrainLayerDefaults = ({\n  elevationDecoder,\n  meshMaxError: 1,\n  wrapLongitude: true,\n  workerUrl: \"./terrain-loader.worker.js\",\n  material: {\n    ambient: 0.2,\n    diffuse: 1,\n    shininess: 128,\n    specularColor: [255, 192, 64]\n  }\n});\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      viz: \"bumpy-terrain\",\n      initialViewState: {longitude: -122.4, latitude: 37.7, zoom: 5, pitch: 30, bearing: 0, maxZoom: 9},\n    }\n  }\n  render() {\n    const {viz} = this.state;\n    const smog = new TileLayer({\n      ...bitmapLayerDefaults,\n      data: './tiles/greys-{z}-{x}-{y}.png',\n      maxZoom: 8,\n      id: 'smog',\n    })\n    const watercolor = new TileLayer({\n      ...bitmapLayerDefaults,\n      data: './stamen-tiles/watercolor/watercolor-{z}-{x}-{y}.jpg',\n      id: 'watercolor',\n      maxZoom: 8,\n    });\n    const tonerlabel = new TileLayer({\n      ...bitmapLayerDefaults,\n      data: './stamen-tiles/toner-labels/toner-labels-{z}-{x}-{y}.png',\n      id: 'tonerlabel',\n      maxZoom: 8,\n    });\n    const terrain = new TileLayer({\n      ...bitmapLayerDefaults,\n      data: './stamen-tiles/terrain/terrain-{z}-{x}-{y}.png',\n      id: 'greenhills',\n    })\n    const bumpyLight = new TerrainLayer({\n      ...terrainLayerDefaults,\n      id: 'bumpyLight',\n      elevationData: './tiles/globe-{z}-{x}-{y}.png',\n      texture: './tiles/globe-{z}-{x}-{y}.png',\n      workerUrl: \"./terrain-loader.worker.js\",\n    });\n    const bumpyTerrain = new TerrainLayer({\n      ...terrainLayerDefaults,\n      id: 'bumpyTerrain',\n      elevationData: './tiles/globe-{z}-{x}-{y}.png',\n      texture: './stamen-tiles/terrain/terrain-{z}-{x}-{y}.png',\n    });\n\n    const layers = viz === \"bumpy-light\" ? [bumpyLight] : (viz === \"bumpy-terrain\" ? [bumpyTerrain] : (viz === \"hazy-terrain\" ? [terrain, smog] : [watercolor, tonerlabel, smog]) );\n    return (\n      <div>\n        <div>\n          <DeckGL initialViewState={this.state.initialViewState} controller={true} layers={layers} id={\"maincanvas\"} />\n        </div>\n        <div className=\"tweaks\">\n          <div id=\"colophon\">Â© Lee Butterman 2020. Made in Oakland, California.</div>\n          <div id=\"tweaks\">\n            Tweaks:<br/>\n            <form>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"bumpy-light\" checked={viz === \"bumpy-light\"} onChange={e => this.setState({viz: e.target.value})} />\n                  Light-pollution as topography, light-pollution + water as texture\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"bumpy-terrain\" checked={viz === \"bumpy-terrain\"} onChange={e => this.setState({viz: e.target.value})} />\n                  Light-pollution as topography, terrain map as texture\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"hazy-terrain\" checked={viz === \"hazy-terrain\"} onChange={e => this.setState({viz: e.target.value})} />\n                  Light-pollution as haze on terrain\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"viz\" value=\"hazy-watercolor\" checked={viz === \"hazy-watercolor\"} onChange={e => this.setState({viz: e.target.value})} />\n                  Light-pollution as haze on watercolor\n                </label>\n              </div>\n            </form>\n          </div>          \n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}