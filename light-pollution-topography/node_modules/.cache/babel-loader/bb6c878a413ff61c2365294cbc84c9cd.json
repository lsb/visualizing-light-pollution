{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nexport var KeyFrames = function () {\n  function KeyFrames(keyFrames) {\n    _classCallCheck(this, KeyFrames);\n\n    this._lastTime = -1;\n    this.startIndex = -1;\n    this.endIndex = -1;\n    this.factor = 0;\n    this.times = [];\n    this.values = [];\n    this.setKeyFrames(keyFrames);\n    this.setTime(0);\n  }\n\n  _createClass(KeyFrames, [{\n    key: \"setKeyFrames\",\n    value: function setKeyFrames(keyFrames) {\n      var numKeys = keyFrames.length;\n      this.times.length = numKeys;\n      this.values.length = numKeys;\n\n      for (var i = 0; i < numKeys; ++i) {\n        this.times[i] = keyFrames[i][0];\n        this.values[i] = keyFrames[i][1];\n      }\n\n      this._calculateKeys(this._lastTime);\n    }\n  }, {\n    key: \"setTime\",\n    value: function setTime(time) {\n      time = Math.max(0, time);\n\n      if (time !== this._lastTime) {\n        this._calculateKeys(time);\n\n        this._lastTime = time;\n      }\n    }\n  }, {\n    key: \"getStartTime\",\n    value: function getStartTime() {\n      return this.times[this.startIndex];\n    }\n  }, {\n    key: \"getEndTime\",\n    value: function getEndTime() {\n      return this.times[this.endIndex];\n    }\n  }, {\n    key: \"getStartData\",\n    value: function getStartData() {\n      return this.values[this.startIndex];\n    }\n  }, {\n    key: \"getEndData\",\n    value: function getEndData() {\n      return this.values[this.endIndex];\n    }\n  }, {\n    key: \"_calculateKeys\",\n    value: function _calculateKeys(time) {\n      var index = 0;\n      var numKeys = this.times.length;\n\n      for (index = 0; index < numKeys - 2; ++index) {\n        if (this.times[index + 1] > time) {\n          break;\n        }\n      }\n\n      this.startIndex = index;\n      this.endIndex = index + 1;\n      var startTime = this.times[this.startIndex];\n      var endTime = this.times[this.endIndex];\n      this.factor = Math.min(Math.max(0, (time - startTime) / (endTime - startTime)), 1);\n    }\n  }]);\n\n  return KeyFrames;\n}();","map":{"version":3,"sources":["../../../src/animation/key-frames.js"],"names":["KeyFrames","numKeys","keyFrames","i","time","Math","index","startTime","endTime"],"mappings":"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","sourcesContent":["export class KeyFrames {\n  constructor(keyFrames) {\n    this._lastTime = -1;\n    this.startIndex = -1;\n    this.endIndex = -1;\n    this.factor = 0;\n    this.times = [];\n    this.values = [];\n    this.setKeyFrames(keyFrames);\n    this.setTime(0);\n  }\n\n  setKeyFrames(keyFrames) {\n    const numKeys = keyFrames.length;\n    this.times.length = numKeys;\n    this.values.length = numKeys;\n\n    for (let i = 0; i < numKeys; ++i) {\n      this.times[i] = keyFrames[i][0];\n      this.values[i] = keyFrames[i][1];\n    }\n\n    this._calculateKeys(this._lastTime);\n  }\n\n  setTime(time) {\n    time = Math.max(0, time);\n\n    if (time !== this._lastTime) {\n      this._calculateKeys(time);\n      this._lastTime = time;\n    }\n  }\n\n  getStartTime() {\n    return this.times[this.startIndex];\n  }\n\n  getEndTime() {\n    return this.times[this.endIndex];\n  }\n\n  getStartData() {\n    return this.values[this.startIndex];\n  }\n\n  getEndData() {\n    return this.values[this.endIndex];\n  }\n\n  _calculateKeys(time) {\n    let index = 0;\n    const numKeys = this.times.length;\n\n    for (index = 0; index < numKeys - 2; ++index) {\n      if (this.times[index + 1] > time) {\n        break;\n      }\n    }\n\n    this.startIndex = index;\n    this.endIndex = index + 1;\n\n    const startTime = this.times[this.startIndex];\n    const endTime = this.times[this.endIndex];\n    this.factor = Math.min(Math.max(0, (time - startTime) / (endTime - startTime)), 1);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}