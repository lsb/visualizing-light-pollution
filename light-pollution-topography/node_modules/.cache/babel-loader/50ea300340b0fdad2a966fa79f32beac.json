{"ast":null,"code":"function formatArrayValue(v, opts) {\n  var _opts$maxElts = opts.maxElts,\n      maxElts = _opts$maxElts === void 0 ? 16 : _opts$maxElts,\n      _opts$size = opts.size,\n      size = _opts$size === void 0 ? 1 : _opts$size;\n  var string = '[';\n\n  for (var i = 0; i < v.length && i < maxElts; ++i) {\n    if (i > 0) {\n      string += \",\".concat(i % size === 0 ? ' ' : '');\n    }\n\n    string += formatValue(v[i], opts);\n  }\n\n  var terminator = v.length > maxElts ? '...' : ']';\n  return \"\".concat(string).concat(terminator);\n}\n\nexport function formatValue(v) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var EPSILON = 1e-16;\n  var _opts$isInteger = opts.isInteger,\n      isInteger = _opts$isInteger === void 0 ? false : _opts$isInteger;\n\n  if (Array.isArray(v) || ArrayBuffer.isView(v)) {\n    return formatArrayValue(v, opts);\n  }\n\n  if (!Number.isFinite(v)) {\n    return String(v);\n  }\n\n  if (Math.abs(v) < EPSILON) {\n    return isInteger ? '0' : '0.';\n  }\n\n  if (isInteger) {\n    return v.toFixed(0);\n  }\n\n  if (Math.abs(v) > 100 && Math.abs(v) < 10000) {\n    return v.toFixed(0);\n  }\n\n  var string = v.toPrecision(2);\n  var decimal = string.indexOf('.0');\n  return decimal === string.length - 2 ? string.slice(0, -1) : string;\n}","map":{"version":3,"sources":["../../../src/utils/format-value.js"],"names":["maxElts","size","opts","string","i","v","formatValue","terminator","EPSILON","isInteger","Array","ArrayBuffer","formatArrayValue","Number","String","Math","decimal"],"mappings":"AAEA,SAAA,gBAAA,CAAA,CAAA,EAAA,IAAA,EAAmC;AAAA,MAAA,aAAA,GACAE,IADA,CAAA,OAAA;AAAA,MAC1BF,OAD0B,GAAA,aAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,aAAA;AAAA,MAAA,UAAA,GACAE,IADA,CAAA,IAAA;AAAA,MACZD,IADY,GAAA,UAAA,KAAA,KAAA,CAAA,GAAA,CAAA,GAAA,UAAA;AAEjC,MAAIE,MAAM,GAAV,GAAA;;AACA,OAAK,IAAIC,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGC,CAAC,CAALD,MAAAA,IAAgBA,CAAC,GAAjC,OAAA,EAA6C,EAA7C,CAAA,EAAkD;AAChD,QAAIA,CAAC,GAAL,CAAA,EAAW;AACTD,MAAAA,MAAM,IAAA,IAAA,MAAA,CAAQC,CAAC,GAADA,IAAAA,KAAAA,CAAAA,GAAAA,GAAAA,GAAdD,EAAM,CAANA;AACD;;AACDA,IAAAA,MAAM,IAAIG,WAAW,CAACD,CAAC,CAAF,CAAE,CAAF,EAArBF,IAAqB,CAArBA;AACD;;AACD,MAAMI,UAAU,GAAGF,CAAC,CAADA,MAAAA,GAAAA,OAAAA,GAAAA,KAAAA,GAAnB,GAAA;AACA,SAAA,GAAA,MAAA,CAAA,MAAA,EAAA,MAAA,CAAA,UAAA,CAAA;AACD;;AAED,OAAO,SAAA,WAAA,CAAA,CAAA,EAAmC;AAAA,MAAXH,IAAW,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAJ,EAAI;AACxC,MAAMM,OAAO,GAAb,KAAA;AADwC,MAAA,eAAA,GAEZN,IAFY,CAAA,SAAA;AAAA,MAEjCO,SAFiC,GAAA,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,GAAA,eAAA;;AAGxC,MAAIC,KAAK,CAALA,OAAAA,CAAAA,CAAAA,KAAoBC,WAAW,CAAXA,MAAAA,CAAxB,CAAwBA,CAAxB,EAA+C;AAC7C,WAAOC,gBAAgB,CAAA,CAAA,EAAvB,IAAuB,CAAvB;AACD;;AACD,MAAI,CAACC,MAAM,CAANA,QAAAA,CAAL,CAAKA,CAAL,EAAyB;AACvB,WAAOC,MAAM,CAAb,CAAa,CAAb;AACD;;AACD,MAAIC,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,IAAJ,OAAA,EAA2B;AACzB,WAAON,SAAS,GAAA,GAAA,GAAhB,IAAA;AACD;;AACD,MAAA,SAAA,EAAe;AACb,WAAOJ,CAAC,CAADA,OAAAA,CAAP,CAAOA,CAAP;AACD;;AACD,MAAIU,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,IAAAA,GAAAA,IAAqBA,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,IAAzB,KAAA,EAA8C;AAC5C,WAAOV,CAAC,CAADA,OAAAA,CAAP,CAAOA,CAAP;AACD;;AACD,MAAMF,MAAM,GAAGE,CAAC,CAADA,WAAAA,CAAf,CAAeA,CAAf;AACA,MAAMW,OAAO,GAAGb,MAAM,CAANA,OAAAA,CAAhB,IAAgBA,CAAhB;AACA,SAAOa,OAAO,KAAKb,MAAM,CAANA,MAAAA,GAAZa,CAAAA,GAAgCb,MAAM,CAANA,KAAAA,CAAAA,CAAAA,EAAgB,CAAhDa,CAAgCb,CAAhCa,GAAP,MAAA;AACD","sourcesContent":["// TODO / DEPRECATED - delete when confident that probe.gl logging implements all opts\n/* eslint-disable no-console */\nfunction formatArrayValue(v, opts) {\n  const {maxElts = 16, size = 1} = opts;\n  let string = '[';\n  for (let i = 0; i < v.length && i < maxElts; ++i) {\n    if (i > 0) {\n      string += `,${i % size === 0 ? ' ' : ''}`;\n    }\n    string += formatValue(v[i], opts);\n  }\n  const terminator = v.length > maxElts ? '...' : ']';\n  return `${string}${terminator}`;\n}\n\nexport function formatValue(v, opts = {}) {\n  const EPSILON = 1e-16;\n  const {isInteger = false} = opts;\n  if (Array.isArray(v) || ArrayBuffer.isView(v)) {\n    return formatArrayValue(v, opts);\n  }\n  if (!Number.isFinite(v)) {\n    return String(v);\n  }\n  if (Math.abs(v) < EPSILON) {\n    return isInteger ? '0' : '0.';\n  }\n  if (isInteger) {\n    return v.toFixed(0);\n  }\n  if (Math.abs(v) > 100 && Math.abs(v) < 10000) {\n    return v.toFixed(0);\n  }\n  const string = v.toPrecision(2);\n  const decimal = string.indexOf('.0');\n  return decimal === string.length - 2 ? string.slice(0, -1) : string;\n}\n"]},"metadata":{},"sourceType":"module"}