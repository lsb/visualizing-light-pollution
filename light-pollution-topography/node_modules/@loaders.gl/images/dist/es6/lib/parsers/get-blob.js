const SVG_DATA_URL_PATTERN = /^data:image\/svg\+xml/;
const SVG_URL_PATTERN = /\.svg((\?|#).*)?$/;
export function getBlob(arrayBuffer, url) {
  if (isSVG(url)) {
    console.warn('SVG cannot be parsed to imagebitmap');
    return new Blob([new Uint8Array(arrayBuffer)], {
      type: 'image/svg+xml'
    });
  }

  return new Blob([new Uint8Array(arrayBuffer)]);
}
export function getBlobOrDataUrl(arrayBuffer, url) {
  if (isSVG(url)) {
    const textDecoder = new TextDecoder();
    const xmlText = textDecoder.decode(arrayBuffer);
    const src = "data:image/svg+xml;base64,".concat(btoa(xmlText));
    return src;
  }

  return getBlob(arrayBuffer, url);
}

function isSVG(url) {
  return url && (SVG_DATA_URL_PATTERN.test(url) || SVG_URL_PATTERN.test(url));
}
//# sourceMappingURL=get-blob.js.map